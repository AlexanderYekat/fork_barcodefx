BarCodesFX
============
Программа предназначена для использования УОТ-ами и всеми причастными к маркировке на безвозмездной основе.

Программа предоставляется на безмозмездной основе, однако при желании можно пожертвовать произвольную сумму на развитие проекта.
[Пожертвовать](https://yoomoney.ru/fundraise/0UWgzAK4hNY.230328)

Программа предоставляется "как есть", автор не несет никакой ответственности за возможные финансовые и/или иные потери прямо или косвенно вызванные использованием данной программы.

Распространение копий данной программы с взиманием денег за копию программы - запрещено.

Для генерации pdf в программе использована внешняя библиотека - **itextpdf** - http://itextpdf.com (устанавливать не требуется, входит в состав программы)

При работе программы используется Java версии 17 с модулями JavaFx (Liberica JDK - https://bell-sw.com/). 
Java идет в составе дистрибутива, при запуске через exe файл дополнительно устанавливать не требуется.

Доступный функционал
----------------
1. Печать этикеток с датаматриксами на термопринтере (генерируется pdf под размер этикетки).
2. Настраиваемые шаблоны для печати этикеток с датаматриксами на термопринтере (генерируется pdf под размер этикетки). С поддержкой каталога товаров
3. Печать этикеток с датаматриксами на листе A4 (генерируется pdf с этикетками).
4. Генерирование xml файла для ввода кодов в оборот, включая коды агрегации. 
5. Генерирование xml файла для ввода кодов в оборот, импорт ФТС и трансграничная торговля. 
6. Генерирование xml файла для отгрузки кодов маркировки, включая коды агрегации. 
7. Генерирование xml файла для приемки кодов маркировки, включая коды агрегации. 
8. Генерирование xml файла для списания кодов маркировки, включая коды агрегации. 
9. Генерирование xml файла для вывода кода из оборота. 
10. Генерирование xml файла агрегирования.
11. Сохранение просканированных кодов в файл с валидацией и удалением дублей.
12. Сравнение двух файлов с кодами маркировки для выявления различий.
13. Генерация и печать SSCC кодов (генерация коды в scv файл и ean для печати в pdf).

Состав релизов
----------------
**Release-9.0.8**

1. Для ТГ Вода при вводе в оборот производство РФ добавлены лицензии на добычу воды. 

**Release-9.0.7**

1. Добавлен атрибут enconodation для датаматрикса в шаблоне.
2. Добавлены Пиво и Соки

**Release-9.0.5**

1. Доработка шаблонизатора, добавлена работа с одномерными штрих кодами.
2. Печать. Добавлена группировка по gtin при печати пачками.
3. Добавлено сохранение ранее введенных данных для ввода в оборот и производства.
4. Добавлено сохранение параметров подключения сканера.

**Release-9.0.4**

1. Обновлен список причин вывода из оборота.
2. Добавлена поддержка zms.

**Release-9.0.3**

1. Добавлена товарная группа Вода.

**Release-9.0.2**

1. Добавлена выгрузка кодов из пикинг ордеров. Включая формат для ЭДО Лайт.
2. Убрана ошибка построения контекста при неправильном вводе номера начальной страницы для печати.

**Release-9.0.1**

1. Исправлена ошибка открытия форм сканирования.
2. Исправлена ошибка счетчиков при сканировании в режиме com-эмуляции.
3. Добавлена буферизация при сканировании в режиме com-эмуляции.

**Release-9.0.0**

1. Добавлен парфюм.
2. Обновлены xsd схемы.
3. Обновлена версия платформы (java 17).

**Release-7.0.2**

1. Обновлена схема вывода из оборота.
2. Обновлена схема импорта с фтс.

**Release-7.0.1**

1. Исправлен баг с несохранением параметров печати при перезапуске приложения.
2. При добавлении пикинг ордера из файла в случае ошибки окно не закрывается, давая возможность исправить ошибку.
3. Папка с пикинг ордерами перенесена в папку data.

**Release-7.0.0**

1. Выделены интерфейсы для сканирования и работы с документами.
2. Сделано массовое создание агрегатов из пикинг ордеров.
3. Обновлены xsd схемы трансграничной торговли и производства РФ.
4. В трансграничной торговле добавлена возможность добавить ВСД.
5. Доработана валидация для кодов молочной продукции.

**Release-6.0.5**

1. Производство РФ - обновлена схема и добавлено ВСД.

**Release-6.0.4**

1. Исправлена ошибка формирования датаматрикса для молочки.

**Release-6.0.3**

1. Исправлена ошибка с определением пути сохранения файла.
2. Изменена длина серийного номера у молочки при валидации.

**Release-6.0.2**

1. Для обуви снова доступен ввод в оборот остатков.

**Release-6.0.1**

1. Добавлен пример файла ГС1.
2. В документах у SSCC не отрезается идентификатор применения (00).
3. Добавлен документ "Перемаркировка".
4. Добавлено автосоздание папки orders для пикинг ордеров.
5. Исправлена бага с SSCC кодами в html шаблонах. Добавлен новый пример html шаблона с SSCC.
6. Добавлена возможность всегда сохранять все сгенерированные файлы в одну и ту же папку (Настройки->Системные)
7. Оптимизированна работа с агрегациями. (сохраняются прошлые настройки и кнопка очистки SSCC).

**Release-6.0.0**

1. Пикинг ордера.

**Release-5.0.3**

1. При агрегации можно указывать тип юрлица.
2. Добавлена возможность пропускать конкретный релиз.
3. Производство РФ - исправлены пустые теги номера документа соответствия.
4. Кнопка печати доступна и на небольших экранах.
5. Исправление текстов ошибок.

**Release-5.0.2**

1. Добавлен функционал печати кодов пачками.
2. Доработана печать картинок в шаблонах. Сделано переиспользование картинок.
3. Добавлены системные настройки. В них можно изменить размер окна с новостями.
4. При выборе файла для печати открывается папка с предыдущим выбранным файлом.

**Release-5.0.1**

1. Доработка шаблонизатора. Добавлен тег total_page_number, который выводит общее количество страниц.
2. Исправлена ошибка валидации при печати SSCC кодов.
3. Программа может теперь работать не только с csv, но и с txt форматом.
4. Доработка шаблонизатора. Отключено приведение текста к верхнему регистру.

**Release-5.0.0**

1. Доработка шаблонизатора. Новые тег user_label_text для печати текст из UI формы.
2. Доработан шаблонизатор. Для gtin, serial, user_label_text можно задать какую часть строки выводить.
3. Для датаматрикса добавлена возможность настраивать отступы в шаблоне. Атрибуты margin_right, margin_left, margin_top, margin_bottom.
4. Добавлен новостной раздел, показывается при запуске программы.

**Release-4.0.5**

1. Исправлена ошибка валидатора при создании всех xml документов. 

**Release-4.0.4**

1. Добавлен валидатор xml по xsd. 
2. xml документы валидируются по xsd схеме после создания. Можно отключить через Настройки->Печать XML_VALIDATION_ENABLED.
3. Обновлена схема документа приемки.
4. Добавлена товарная группа "молоко".
5. Добавлены документы для товарных групп молоко, шины, одежда.
6. Починен баг при формировании документа "приемка".

**Release-4.0.3**

1. Исправлена ошибка при работе с неполными кодами.
2. Добавлен документ ввод в оборот при трансграничной торговле.
3. Убран документ "Ввод в оборот остатков" для обуви
4. Добавлена товарная группа "Одежда"
5. Добавлен документ "Ввод в оборот остатков" для шин и одежды
6. Добавлен режим пакетной печати (все файлы из папки). Включается через настройку USE_PACKAGE_WORK_TYPE

**Release-4.0.2**

1. Добавлена работа с АТП и Шинами.
2. Доработана валидация под новые товарные группы.
3. Сохраняется последнее состояние закладки печати.

**Release-4.0.1**

1. Доработка шаблона. Возможность печатать несколько кодов на одной этикетке (проект ручеек).
2. Добавлена возможность менять размер всех окон.
3. Добавлен сбор статистики.

**Release-4.0.0**

1. Настройки вынесены в графический интерфейс.
2. Добавлена возможность менять размер основного окна.
3. Обновлена xsd схема для документа списания.
4. Обновлена xsd схема для документа отгрузки.

**Release-3.0.1**

1. Изменена схема документа вывода из оборота, согласно изменениям в ЦРПТ.
2. Исправлена проблема с датой в документе "ввод в оборот импорт ФТС".
3. Добавлена проверка обновлений.
4. Доработана работа с каталогом. Исправлена проблема с кириллическими путями, оптимизирована фоновая подгрузка.

**Release-3.0.0**

1. Добавлен документ ввод в оборот, импорт ФТС. Цвет и размер заполняется из каталога товаров.
2. Добавлена работа с каталогом товаров (файл выгрузки эксель из ГС1).
3. Добавлена работа с шаблонами этикеток для термопринтера. Возможно подтягивание данных их каталога товаров.
4. Добавлены настройки вкладок (можно скрывать).

**Release-2.0.6**

1. Добавлен документ выбытия.
2. Добавлена обработка многострочного ввода при сканировании.
3. Удалена вкладка Lamoda. (был изменен формат, более не актуально)
4. Доработано логирование. Добавлены стектрейсы и добавлены новые точки логирования.

**Release-2.0.5**

1. Исправлена ошибка пустой даты (проявлялась при отгрузке при незаполненной дате списания).
2. При загрузки кодов из файла удаляются пробелы в начале и конце кода.

**Release-2.0.4**

1. При передаче не УОТ-у можно указать дату вывода из оборота.
2. Реализована работа с SSCC - генерация, печать, передача в XML документах.

**Release-2.0.3**

1. Доработан документ списания.
2. Исправлена ошибка задвоения элементов документов при работе со сканером.

**Release-2.0.2**

1. Добавлен документ агрегирование.
2. Исправлена ошибка при работе со сканером в режиме com.
3. Исправлена ошибка задвоения элементов.
4. Исправлена ошибка null при вводе даты вручную.

**Release-2.0.1**

1. Исправлены проблемы при сканировании. GS теперь расставляются автоматом исходя из заданных длин.
2. Добавлено формирование документа "Списание" кодов маркировки
3. Доработано формирование документа отгрузки. При отгрузке не участнику можно указать причину списания.
4. Добавлен функционал сверки двух файлов с кодами маркировки.
5. bugfix - корректно обрабатываются пустые строки в файле с кодами.


**Release-2.0.0**

1. JRE включено в состав дистрибутива. Создан exe для запуска.
2. В параметрах можно задавать префикс перед номером марки вместо index.
3. Если обрабатывается диапазон кодов, то в имени созданного файла он указывается.
4. Валидация ИНН скопирована из схемы ЦРПТ (с учетом РБ).


**Release-1.0.10**

1. Добавлена возможность при печати на А4 добавлять отступ слева для текста.
2. Номер марки перенесен под серийный номер. Отображается как index:1.
3. Нумеровать можно не только этикетки, но и марки при печати на А4.
4. Добавлена возможность задавать начальный номер при нумерации.
5. Добавлена возможность генерировать файлы с кодами для Ламоды согласно их требованиям.
6. Убрана интеграция с СУЗ.


**Release-1.0.9**

1. При печати на А4 в опциях можно отключить отображение рамок
2. При сканировании в файл добавлена работа со сканером в режиме com-порта.
3. При документе приемки можно из интерфейса задавать id  документа отгрузки
4. Добавлена возможность ограничить количество запросов в СУЗ в секундах
5. В случае отсутствия заказов в СУЗ более внятное сообщение.

**Release-1.0.8**

1. Добавлена интеграция с СУЗ (забор кодов из заказов)
2. При сканировании можно указать альтернативный разделитель, вместо GS
3. Некоторые оптимизации на уровне платформы

**Release-1.0.7**

1. Текст на этикетке можно переносить по строкам
2. Добавлена опция нумерования этикеток
3. Добавлен документ "Ввод в оборот - производство РФ"
4. Улучшено логирование ошибок

**Release-1.0.6**

1. Исправлена ошибка формирования датаматрксов. Проявлялась при некоторых вариантах криптохвостов.

**Release-1.0.5**

1. Добавлена возможность вводить коды со сканера
2. Доработана валидация кодов
3. xml файлы стали сохраняться с постфиксами

**Release-1.0.4**

1. Добавлена генерация xml файла документа отгрузки
2. Добавлена генерация xml файла документа приемки
3. Добавлена лайтовая валидация КМ при загрузке из файла (можно отключить в параметрах)
4. Доработана печать датаматриксов на А4. Добавлено больше параметров для регулирования отступов. Параметры перечитываются при печати, а не только при запуске программы

**Release-1.0.3**

1. Добавлена работа с диапазонами строк
2. Добавлена генерация xml файла для ввода остатков в оборот

**Release-1.0.2**

1.  Добавлена возможность писать однотипный текст на всех этикетках
2.  Добавлена тонкая настройка через конфигурационный файл
3.  Добавлено логирование